---
import projects from "../../db/projects.json";
import { projectFilter } from "../types";
import ProjectCardLeft from "./ProjectCardLeft.astro";
import ProjectCardRight from "./ProjectCardRight.astro";

interface Props {
  projectFilter: projectFilter;
}

const { projectFilter } = Astro.props;

const filteredProjects =
  projectFilter === "All"
    ? projects
    : projectFilter === "isFavorite"
    ? projects.filter((x) => x.isFavorite)
    : projects.filter((x) => x.technologies.includes(projectFilter));
---

<div class="flex flex-col gap-y-16 mt-10">
  {
    filteredProjects.reverse().map((project, index) => {
      const isEven = index % 2 === 0;
      return isEven ? (
        <ProjectCardRight
          id={project.id}
          name={project.name}
          fileName={project.fileName}
          technologies={project.technologies}
          description={project.description}
          projectType={project.projectType}
        />
      ) : (
        <ProjectCardLeft
          id={project.id}
          name={project.name}
          fileName={project.fileName}
          technologies={project.technologies}
          description={project.description}
          projectType={project.projectType}
        />
      );
    })
  }
</div>
